!function(){"use strict";const e=function(){var e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord"),o=document.querySelector(".header-contacts__phone-number-accord .header-contacts__phone-number");e.addEventListener("click",(function(){"0"===o.style.opacity?(t.style.top="23px",o.style.opacity="1"):(t.style.top="0",o.style.opacity="0")}))};const t=function(){var e=document.querySelector("body"),t=document.querySelector(".popup-menu"),o=document.querySelector(".popup-dialog-menu");e.addEventListener("click",(function(e){var n=e.target;n.classList.contains("menu__icon")&&(t.style.visibility="visible",o.style.transform="translate3d(0, 0, 0)",document.documentElement.clientWidth>=575?(o.classList.remove("hideMenu"),o.classList.add("showMenu")):o.classList.add("showMenu-mobile")),(n.classList.contains("close-menu")||n.matches(".popup-menu a")||!n.closest(".popup-dialog-menu")&&o.classList.contains("showMenu")&&!n.classList.contains("menu__icon")||n.closest(".link-list-menu"))&&(t.style.visibility="hidden",document.documentElement.clientWidth>=575?(o.style.transform="translate3d(645px, 0, 0)",o.classList.remove("showMenu"),o.classList.add("hideMenu")):(o.style.transform="translate3d(0, -100vh, 0)",o.classList.remove("showMenu-mobile")))}))};const o=function(){var e=document.querySelectorAll(".popup-menu-nav__item .menu-link"),t=document.querySelector(".button-footer"),o=function(e){e.preventDefault(),console.log(e.target);var t=e.target.closest("a").getAttribute("href").slice(1);t&&document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})};e.forEach((function(e){e.addEventListener("click",o)})),t.addEventListener("click",o)};const n=function(){var e=document.querySelectorAll(".link-list-menu .menu-link"),t=document.querySelectorAll(".popup .close"),o=document.querySelectorAll(".link-privacy"),n=document.querySelectorAll(".button_wide"),i=document.querySelector(".popup-repair-types"),c=document.querySelector(".popup-privacy"),r=document.querySelector(".popup-consultation"),s=function(e){var t=e.target;(console.log("handlerPopUp ~ target",t),console.log("handlerPopUp ~ event",e),t.matches(".link-list-menu .menu-link")&&(i.style.visibility="visible"),t.classList.contains("link-privacy")&&(c.style.visibility="visible"),t.classList.contains("button_wide")&&(r.style.visibility="visible"),t.classList.contains("close"))&&(t.closest(".popup").style.visibility="hidden")};e.forEach((function(e){e.addEventListener("click",s)})),t.forEach((function(e){e.addEventListener("click",s)})),o.forEach((function(e){e.addEventListener("click",s)})),n.forEach((function(e){e.addEventListener("click",s)}))};const i=function(){var e=document.querySelectorAll(".feedback-block__form-input_phone"),t=document.querySelectorAll(".feedback__input-input"),o=function(e){var t=e.target,o=t.value;o=(o=(o=(o=(o=(o=o.replace(/\D|^[^78]/gi,"")).replace(/^[78]/gi,"+7(")).replace(/^\+7\(\d{3}/gi,(function(e){return e+")"}))).replace(/^\+7\(\d{3}\)\d{3}/gi,(function(e){return e+"-"}))).replace(/^\+7\(\d{3}\)\d{3}-\d{2}/gi,(function(e){return e+"-"}))).replace(/^\+7\(\d{3}\)\d{3}-\d{2}-\d{3,}/gi,(function(e){return e.slice(0,-1)})),t.value=o};e.forEach((function(e){e.addEventListener("input",o)})),t.forEach((function(e){e.addEventListener("input",o)}))};const c=function(){var e=document.querySelectorAll(".feedback__form"),t=document.querySelectorAll(".feedback-block__form"),o=document.createElement("div");o.style.cssText="font-size: 2rem; color: white; margin-top: 1em;";var n=function(e){e.preventDefault();var t=e.target,n=t.querySelectorAll("input"),i=!1,c=!1,r=!1;document.querySelectorAll(".err-message").forEach((function(e){e.remove()}));var s=function(e,t,o){var n=document.createElement("div");n.classList.add("err-message"),n.textContent=e,"phone"===o&&(n.style.cssText="margin-bottom: 10px;",t.closest(".feedback__form")&&(t.style.border="2px solid #f15858; z-index: 1; border-bottom: 5px solid #f15858;",n.style.color="#f15858",t.closest(".feedback__form").append(n)),t.closest(".feedback-block__form")&&(t.style.border="2px solid #bb2626; z-index: 1; border-bottom: 5px solid #bb2626;",n.style.color="#bb2626",t.closest(".feedback-block__form").append(n)),t.before(n)),"checkbox"===o&&(t.closest(".feedback__form")&&(n.style.color="#f15858",n.style.marginTop="-25px",t.closest(".feedback__form").append(n)),t.closest(".feedback-block__form")&&(n.style.color="#bb2626",t.closest(".feedback-block__form").append(n))),"name"===o&&(n.style.cssText="color: #bb2626; margin-bottom: 10px;",t.before(n))};t.classList.contains("feedback__form")&&(c=!0),n.forEach((function(t){var n=t.name,l=t.type;if("phone"===n){/^\++?7\(+?\d{3}\)+?\d{3}-+?\d{2}-+?\d{2}$/gi.test(t.value)?i=!0:s("Введите телефон в формате +7(123)123-45-67",t,n)}if("checkbox"===l&&(t.checked?r=!0:s("Ознакомьтесь, пожалуйста.",t,l)),"name"===n){t.value=t.value.trim();/^[а-я]+$/gi.test(t.value)?c=!0:s("Поле должно содержать только русские буквы",t,n)}i&&r&&c&&(e.target.appendChild(o),function(e){return fetch("../../server.php",{method:"POST",body:e})}(new FormData(e.target)).then((function(e){if(200!==e.status)throw new Error("status network not 200");var t=document.querySelectorAll("input");document.querySelector(".popup-thank").style.visibility="visible",t.forEach((function(e){e.value=""}))})).catch((function(e){console.error(e),o.textContent="Что-то пошло не так..."})))}))};e.forEach((function(e){e.addEventListener("submit",n)})),t.forEach((function(e){e.addEventListener("submit",n)}))};const r=function(){var e=document.querySelectorAll(".formula-item"),t=function(e){if(!(document.documentElement.clientWidth<=1024)){var t=e.target.closest(".formula-item"),o=t.querySelector(".formula-item-popup"),n=t.querySelector(".formula-item__descr");if(t.classList.contains("active-item"))t.classList.remove("active-item"),o.style.visibility="hidden",n.style.visibility="visible";else o.style.visibility="visible",t.classList.add("active-item"),o.getBoundingClientRect().top<0&&(t.classList.add("active-item__reverse"),n.style.visibility="hidden")}};e.forEach((function(e){e.addEventListener("mouseover",t)})),e.forEach((function(e){e.addEventListener("mouseout",t)}))};const s=function(){};const l=function(){};const a=function(){};const u=function(){var e=document.documentElement.clientWidth;if(e<=1024){for(var t,o,n=document.querySelector(".formula-slider-wrap"),i=n.offsetWidth,c=document.querySelector(".formula-item__wrapper"),r=document.querySelectorAll(".formula-slider__slide"),s=r[0].offsetWidth,l=i/s,a=[],u=[],d=0;d<l;d++){var m=r[d].cloneNode(!0);a.push(m)}for(var f=r.length-1;f>=r.length-l;f--){var p=r[f].cloneNode(!0);u.push(p)}a.forEach((function(e,o){0===o&&(e.id="first-clone",t=e),c.append(e)})),u.forEach((function(e,t,n){t===n.length-1&&(e.id="last-clone",o=e),c.prepend(e)}));var y=-s*l,v=l;c.style.transform="translateX(".concat(y,"px)");var b=function(e,t){if(r[e+1].querySelector(".formula-item-popup").style.visibility="visible",t){var o=r[e+1].querySelector(".formula-item__icon"),n=r[e+1].querySelector(".formula-item__icon-inner");o.style.transition="unset",n.style.transition="unset"}r[e+1].classList.add("active-item")},h=function(){r=document.querySelectorAll(".formula-slider__slide")};e>575&&(h(),b(v));n.addEventListener("transitionend",(function(n){if(n.target.classList.contains("formula-item__wrapper")){if(h(),r[v].id===t.id){c.style.transition="none",v=l,c.style.transform="translateX(".concat(-s*v,"px)");e>=575&&e<=1024&&b(v,1)}if(r[v].id===o.id){c.style.transition="none",v=r.length-2*l,c.style.transform="translateX(".concat(-s*v,"px)");e>=575&&e<=1024&&b(v,1)}}})),n.addEventListener("click",(function(t){var o=t.target;if(h(),r.forEach((function(e){e.querySelector(".formula-item-popup").style.visibility="hidden",e.classList.remove("active-item")})),o.closest("#formula-arrow_right")){if(v>=r.length-1)return;v++,e>=575&&e<=1024&&b(v),c.style.transform="translateX(".concat(-s*v,"px)"),c.style.transition=".7s"}if(o.closest("#formula-arrow_left")){if(v<=0)return;v--,e>=575&&e<=1024&&b(v),c.style.transform="translateX(".concat(-s*v,"px)"),c.style.transition=".7s"}}))}};window.onload=function(){document.querySelector(".preload").classList.remove("preload")},e(),t(),o(),n(),i(),c(),r(),s(),l(),a(),u()}();